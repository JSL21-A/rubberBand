<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">

<head>
<meta charset="UTF-8">
<title>ë°´ë“œ ìƒì„¸ì •ë³´</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="/css/band-profile-style.css">
</head>

<body>
	<div layout:fragment="content">
		<!-- ì „ì²´ í¼ -->
<div class="band-profile-outer-form">

	<!-- âœ… ì»¤ë²„ ì´ë¯¸ì§€ -->
	<div class="cover-image">
		<img th:src="@{'/images/uploads/bands/' + ${band.band_cover_img}}" alt="ì»¤ë²„ ì´ë¯¸ì§€">
	</div>

<div class="profile-header">
    <!-- í”„ë¡œí•„ ì¸ë„¤ì¼ -->
	<div class="profile-thumbnail">
	    <img th:src="@{'/images/uploads/bands/' + ${band.band_profile_img}}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€">
	</div>

    <!-- í”„ë¡œí•„ ì •ë³´ -->
	<div class="profile-info">
	    <h2 class="band-name" th:text="${band.band_name}">Tomo Groove</h2>
	    <p class="band-one-liner" th:text="${band.band_intro}">í•œ ì¤„ ì†Œê°œ</p>
		<p class="band-email" th:text="${leaderEmail}">ë¦¬ë” ì´ë©”ì¼</p>
	    <a id="youtube-link" th:href="${band.youtube_link}" class="external-link" target="_blank">ìœ íŠœë¸Œ ì±„ë„</a>
	    <a id="instagram-link" th:href="${band.instagram_link}" class="external-link" target="_blank" style="padding-left: 10px;">ì¸ìŠ¤íƒ€</a>
	</div>

    <!-- ìˆ˜ì •/ì±„íŒ… ë²„íŠ¼ -->
    <div class="band-actions">
        <button class="btn-edit" id="edit-toggle-btn" type="button">ìˆ˜ì •í•˜ê¸°</button>
        <button class="btn-chat">ì±„íŒ…í•˜ê¸°</button>
    </div>
</div>


<!-- âœ… ë©”ì¸ ì½˜í…ì¸ : ì‚¬ì´ë“œë°”ì™€ ì½˜í…ì¸ ë¥¼ ê°™ì€ wrapper ë‚´ë¶€ì— ë„£ìŒ -->
<div class="band-content-wrapper">
	<!-- âœ… í”„ë¡œí•„ ì•„ë˜ ì„¸ë¡œ ë©”ë‰´ -->
<nav class="band-sidebar band-sidebar-floating">
	<button class="band-tab-btn active" data-target="section-intro">ë°´ë“œ
		ì†Œê°œ</button>
	<button class="band-tab-btn" data-target="section-members">ë°´ë“œ
		ë©¤ë²„</button>
	<button class="band-tab-btn" data-target="section-gallery">í™œë™
		ì‚¬ì§„</button>
	<button class="band-tab-btn" data-target="section-records">í™œë™
		ê¸°ë¡</button>
</nav>

<div class="band-content">
	<!-- ì†Œê°œ -->
<section class="band-section active" id="section-intro">
	<h3>ë°´ë“œ ì†Œê°œ</h3>
	<ul class="intro-list">
		<li><strong>ê²°ì„±ì¼ : </strong> <span th:text="${band.formation_date}">2022ë…„ 5ì›”</span></li>
		<li>
		  <strong>ì¥ë¥´ : </strong>
		  <span th:each="tag, stat : ${tags}" 
		        th:if="${tag.tag_type == 'genre' or tag.tag_type == 'position' or tag.tag_type == 'gender' or tag.tag_type == 'age'}"
		        th:text="${tag.tag_value + (stat.last ? '' : ', ')}"
		        class="tag-item">
		  </span>
		</li>
		  <!-- âœ… ì¥ë¥´ íƒœê·¸ ì„ íƒ íŒì—… êµ¬ì¡° -->
<div id="genre-popup" class="keyword-popup" style="display: none;">
  <button id="genre-popup-close" class="popup-close">Ã—</button>
  <div class="keyword-box">
    <div class="keyword-row">
      <div class="keyword-category">ã‚¸ãƒ£ãƒ³ãƒ«</div>
      <div class="keyword-tags">
        <span class="tag">ãƒ­ãƒƒã‚¯</span>
        <span class="tag">ãƒãƒƒãƒ—</span>
        <span class="tag">ã‚¸ãƒ£ã‚º</span>
        <span class="tag">ãƒ’ãƒƒãƒ—ãƒ›ãƒƒãƒ—</span>
        <span class="tag">ã‚¯ãƒ©ã‚·ãƒƒã‚¯</span>
        <span class="tag">EDM</span>
        <span class="tag">ãã®ä»–</span>
      </div>
    </div>
    <div class="keyword-row">
      <div class="keyword-category">ãƒã‚¸ã‚·ãƒ§ãƒ³</div>
      <div class="keyword-tags">
        <span class="tag">Voï¼ˆãƒœãƒ¼ã‚«ãƒ«)</span>
        <span class="tag">Gtï¼ˆã‚®ã‚¿ãƒ¼ï¼‰</span>
        <span class="tag">Baï¼ˆãƒ™ãƒ¼ã‚¹)</span>
        <span class="tag">Drï¼ˆãƒ‰ãƒ©ãƒ </span>
        <span class="tag">Kbï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰)</span>
        <span class="tag">ãã®ä»–</span>
      </div>
    </div>
    <div class="keyword-row">
      <div class="keyword-category">æ€§åˆ¥</div>
      <div class="keyword-tags">
        <span class="tag">ç”·æ€§ãƒãƒ³ãƒ‰</span>
        <span class="tag">å¥³æ€§ãƒãƒ³ãƒ‰</span>
        <span class="tag">æ··æˆãƒãƒ³ãƒ‰</span>
      </div>
    </div>
    <div class="keyword-row">
      <div class="keyword-category">å¹´é½¢ä»£</div>
      <div class="keyword-tags">
        <span class="tag">10ä»£</span>
        <span class="tag">20ä»£</span>
        <span class="tag">30ä»£</span>
        <span class="tag">40ä»£</span>
        <span class="tag">50ä»£ä»¥ä¸Š</span>
      </div>
    </div>
  </div>
</div>
<li><strong>í™œë™ì§€ì—­ : </strong> <span th:text="${band.region}"></span></li>
<li><strong>ë°´ë“œ ì†Œê°œ : </strong> <p class="band-description" th:text="${band.band_intro}"></p></li>
	</ul>
</section>

<!-- ë©¤ë²„ -->
<section class="band-section" id="section-members">
<h3>ë°´ë“œ ë©¤ë²„</h3>
<!-- âœ… ë¦¬ë” ë©¤ë²„ ì¹´ë“œ ì „ì²´ -->
<div class="member-container leader-only">
  <div class="member-card">
    <!-- ë¦¬ë” ì´ë¯¸ì§€: ê°’ ìˆìœ¼ë©´ ì—…ë¡œë“œ, ì—†ìœ¼ë©´ ê¸°ë³¸ ì´ë¯¸ì§€ -->
    <img th:src="@{${leader != null and leader.user_img != null and !#strings.isEmpty(leader.user_img) 
                    ? '/upload/' + leader.user_img 
                    : '/images/member1.png'}}"
         alt="ë¦¬ë”"
         class="member-img"
         style="width:60px; height:60px; border-radius:50%; object-fit:cover;">

    <!-- ì´ë¦„ -->
    <div class="member-name" th:text="'ë¦¬ë” Â· ' + ${leader.stage_name}"></div>

    <!-- ìƒì„¸ ì •ë³´ íŒì—… -->
    <div class="member-popup">
      <strong th:text="${leader.stage_name}"></strong><br>
      í¬ì§€ì…˜: <span th:text="${leader.member_position}"></span><br>
      MBTI: <span th:text="${leader.member_mbti}"></span><br>
      ì¢‹ì•„í•˜ëŠ” ë°´ë“œ: <span th:text="${leader.favorite_band}"></span><br>
      í•œë§ˆë””: <span th:text="${leader.member_motto}"></span>
    </div>
  </div>
</div>
<!-- âœ… ì¼ë°˜ ë©¤ë²„ ëª©ë¡ -->
<div class="member-container">
  <div class="member-card" th:each="member : ${members}" 	th:if="${member.member_type.name() == 'member'}">

    <!-- âœ… í”„ë¡œí•„ ì´ë¯¸ì§€: user_img ì—†ìœ¼ë©´ ê¸°ë³¸ ì´ë¯¸ì§€ -->
    <img th:src="@{${member.user_img != null and !#strings.isEmpty(member.user_img) 
                    ? '/upload/' + member.user_img 
                    : '/images/member1.png'}}"
         class="member-img"
         alt="ë©¤ë²„ ì´ë¯¸ì§€"
         style="width:60px; height:60px; border-radius:50%; object-fit:cover;">

    <!-- âœ… ì´ë¦„ = í¬ì§€ì…˜ -->
    <div class="member-name" th:text="${member.member_position}">í¬ì§€ì…˜</div>

    <!-- âœ… ìƒì„¸ íŒì—… -->
    <div class="member-popup">
      <strong th:text="${member.stage_name}">ìŠ¤í…Œì´ì§€ëª…</strong><br>
      í¬ì§€ì…˜: <span th:text="${member.member_position}">í¬ì§€ì…˜</span><br>
      MBTI: <span th:text="${member.member_mbti}">MBTI</span><br>
      ì¢‹ì•„í•˜ëŠ” ë°´ë“œ: <span th:text="${member.favorite_band}">ë°´ë“œ</span><br>
      í•œë§ˆë””: <span th:text="${member.member_motto}">í•œë§ˆë””</span>
    </div>

  </div>
</div>

<!-- âœ… í™œë™ ì‚¬ì§„ ì„¹ì…˜ -->
<section class="band-section" id="section-gallery">
  <h3>í™œë™ ì‚¬ì§„</h3>
  <!-- í˜ì´ì§• ë²„íŠ¼ í¬í•¨ ì „ì²´ ë˜í¼ -->
  <div class="gallery-wrapper">
    
    <!-- ì™¼ìª½ í™”ì‚´í‘œ ë²„íŠ¼ -->
    <button class="gallery-arrow gallery-prev">â—€</button>
    
    <!-- ì‚¬ì§„ + ì˜ìƒ ì˜ì—­ -->
 <!-- Slide 1 -->
<div class="media-slide active">
  <div class="media-row">
    <!-- í™œë™ì‚¬ì§„ ì¸ë„¤ì¼ (ì„¤ëª… í¬í•¨) -->
    <div class="gallery-grid activity-thumb"
         data-title="í™ëŒ€ ê±°ë¦¬ê³µì—°"
         data-desc="ê±°ë¦¬ì˜ ì—´ê¸°ë¥¼ ê·¸ëŒ€ë¡œ ë‹´ì€ ì—´ì •ì˜ ê³µì—°ì´ì—ˆìŠµë‹ˆë‹¤.">
      <img th:src="@{/images/butai.jfif}" alt="í™œë™ì‚¬ì§„1">
    </div>

    <!-- ì˜ìƒ -->
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/DQwlPQm69PY" title="DAY6 - You Were Beautiful" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
</div>

<!-- Slide 2 -->
<div class="media-slide">
  <div class="media-row">
    <div class="gallery-grid">
      <img th:src="@{/images/20210808509732.jpg}" alt="í™œë™ì‚¬ì§„2">
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/RowlrvmyFEk" title="DAY6 - Welcome to the Show" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
</div>

<!-- Slide 3 -->
<div class="media-slide">
  <div class="media-row">
    <div class="gallery-grid">
      <img th:src="@{/images/NISI20240923_0001658811_web.jpg}" alt="í™œë™ì‚¬ì§„3">
    </div>
    <div class="video-wrapper">
      <iframe src="https://www.youtube.com/embed/yss4rIrHl6o" title="DAY6 - Zombie" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
</div>
    <!-- ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ ë²„íŠ¼ -->
    <button class="gallery-arrow gallery-next">â–¶</button>
  </div>

  <!-- í•˜ë‹¨ ì¸ë””ì¼€ì´í„° -->
  <div class="gallery-dots">
    <div class="gallery-dot active"></div>
    <div class="gallery-dot"></div>
    <div class="gallery-dot"></div>
  </div>
  
  <!-- í™œë™ì‚¬ì§„ ì„¤ëª… íŒì—… -->
<div id="activity-popup" class="review-popup" style="display: none;">
  <button class="popup-close">Ã—</button>
  <div class="review-popup-content">
    <h4 class="activity-popup-title">í™œë™ëª…</h4>
    <p class="activity-popup-desc">ì„¤ëª… ë‚´ìš©</p>
  </div>
</div>
  
</section>


<!-- í™œë™ ê¸°ë¡ -->
<section class="band-section" id="section-records">
  <h3>í™œë™ ê¸°ë¡</h3>
  <div class="gallery-wrapper">
    <button class="gallery-arrow gallery-prev">â—€</button>

   <!-- Slide 1 -->
<div class="media-slide active">
      <div class="media-row two-columns">
        <div class="column-left">
          <div class="record-card">
            <div class="record-date">4ì›”<br><strong>19</strong></div>
            <div class="record-info">
              <div class="record-title">í†  13ì‹œ) ì˜¤ë””ë„ˆë¦¬í”„ë¡œì íŠ¸ ì¹´í˜</div>
              <div class="record-status">ì¢…ë£Œ</div>
              <div class="record-meta">ğŸ•’ ì˜¤í›„ 1:00 &nbsp; ğŸ‘¥ 4/4ëª…</div>
            </div>
            <div class="record-image">
              <img src="/images/record1.jpg" alt="ì¹´í˜">
            </div>
            <div class="review-popup">
              <button class="popup-close">Ã—</button>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT1.png" alt="ê°€ë¬´" class="review-profile-img">
                  <div class="review-nickname"><strong>ê°€ë¬´</strong> <span class="activity-role">â­â­â­â­â­</span></div>
                </div>
                <p>ê°ë™ì ì¸ ë¬´ëŒ€ì˜€ì–´ìš”. ê´€ê° ë°˜ì‘ì´ ì •ë§ ëœ¨ê±°ì› ìŠµë‹ˆë‹¤!</p>
              </div>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT2.png" alt="í•˜ë‚˜ë¯¸" class="review-profile-img">
                  <div class="review-nickname"><strong>í•˜ë‚˜ë¯¸</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>ë…¸ë˜í•˜ë©´ì„œ ìš¸ì»¥í–ˆì–´ìš”. ì´ ë¬´ëŒ€ë¥¼ ìŠì§€ ëª»í•  ê±°ì˜ˆìš”.</p>
              </div>
            </div>
          </div>

          <div class="record-card">
            <div class="record-date">4ì›”<br><strong>26</strong></div>
            <div class="record-info">
              <div class="record-title">í†  18ì‹œ) í™ëŒ€ í ë¬´ëŒ€</div>
              <div class="record-status">ì˜ˆì •</div>
              <div class="record-meta">ğŸ•’ ì˜¤í›„ 6:00 &nbsp; ğŸ‘¥ 2/4ëª…</div>
            </div>
            <div class="record-image">
              <img src="/images/record2.jpg" alt="í™ëŒ€ í">
            </div>
            <div class="review-popup">
              <button class="popup-close">Ã—</button>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT3.png" alt="íƒ€ì¼€ì‹œ" class="review-profile-img">
                  <div class="review-nickname"><strong>íƒ€ì¼€ì‹œ</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>ì‚¬ìš´ë“œ ì²´í¬ê°€ ì™„ë²½í–ˆì–´ìš”. ì¢‹ì€ ë¶„ìœ„ê¸°ì˜€ìŠµë‹ˆë‹¤.</p>
              </div>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT4.png" alt="ìœ ë‚˜" class="review-profile-img">
                  <div class="review-nickname"><strong>ìœ ë‚˜</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>ë“œëŸ¼ ì†Œë¦¬ì— ëª¨ë‘ê°€ ì§‘ì¤‘í–ˆì–´ìš”. ë§Œì¡±ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="column-right">
          <div class="record-card">
            <div class="record-date">5ì›”<br><strong>3</strong></div>
            <div class="record-info">
              <div class="record-title">ê¸ˆ 19ì‹œ) ë„ì¿„ ì†Œê·¹ì¥ ë¼ì´ë¸Œ</div>
              <div class="record-status">ì˜ˆì •</div>
              <div class="record-meta">ğŸ•’ ì˜¤í›„ 7:00 &nbsp; ğŸ‘¥ 3/4ëª…</div>
            </div>
            <div class="record-image">
              <img src="/images/record3.jpg" alt="ë„ì¿„ ì†Œê·¹ì¥">
            </div>
            <div class="review-popup">
              <button class="popup-close">Ã—</button>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT1.png" alt="ê°€ë¬´" class="review-profile-img">
                  <div class="review-nickname"><strong>ê°€ë¬´</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>ë¬´ëŒ€ ì—°ì¶œì´ ë©‹ì¡Œê³  ìŒí–¥ë„ ì¢‹ì•˜ì–´ìš”.</p>
              </div>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT2.png" alt="í•˜ë‚˜ë¯¸" class="review-profile-img">
                  <div class="review-nickname"><strong>í•˜ë‚˜ë¯¸</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>ê´€ê° í˜¸ì‘ ë•ë¶„ì— ì‹ ë‚˜ê²Œ ë¶ˆë €ìŠµë‹ˆë‹¤!</p>
              </div>
            </div>
          </div>

          <div class="record-card">
            <div class="record-date">5ì›”<br><strong>10</strong></div>
            <div class="record-info">
              <div class="record-title">ê¸ˆ 20ì‹œ) íŒ¬ë¯¸íŒ… - ì‹ ì´Œ ì¹´í˜</div>
              <div class="record-status">ì˜ˆì •</div>
              <div class="record-meta">ğŸ•’ ì˜¤í›„ 8:00 &nbsp; ğŸ‘¥ 1/4ëª…</div>
            </div>
            <div class="record-image">
              <img src="/images/record4.jpg" alt="íŒ¬ë¯¸íŒ…">
            </div>
            <div class="review-popup">
              <button class="popup-close">Ã—</button>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT4.png" alt="ìœ ë‚˜" class="review-profile-img">
                  <div class="review-nickname"><strong>ìœ ë‚˜</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
                </div>
                <p>íŒ¬ë“¤ê³¼ ê°€ê¹Œì´ì„œ ì†Œí†µí•  ìˆ˜ ìˆì–´ì„œ ëœ»ê¹Šì—ˆì–´ìš”.</p>
              </div>
              <div class="review-item">
                <div class="review-header">
                  <img src="/images/ChatGPT3.png" alt="íƒ€ì¼€ì‹œ" class="review-profile-img">
                  <div class="review-nickname"><strong>íƒ€ì¼€ì‹œ</strong> <span class="activity-role">â­â­â­â˜†â˜†</span></div>
                </div>
                <p>ìŒì•… ì–˜ê¸°ë¥¼ ë§ì´ ë‚˜ëˆŒ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 2 -->
   <div class="media-slide">
  <div class="media-row two-columns">
    <div class="column-left">
      <div class="record-card">
        <div class="record-date">5ì›”<br><strong>17</strong></div>
        <div class="record-info">
          <div class="record-title">ê¸ˆ 19ì‹œ) ì–‘ì´ì²­ ê¸°ë¶€ ê³µì—°</div>
          <div class="record-status">ì˜ˆì •</div>
          <div class="record-meta">ğŸ•’ ì˜¤í›„ 7:00 &nbsp; ğŸ‘¥ 2/4ëª…</div>
        </div>
        <div class="record-image">
          <img src="/images/record5.jpg" alt="ì–‘ì´ì²­">
        </div>
        <div class="review-popup">
          <button class="popup-close">Ã—</button>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT2.png" alt="í•˜ë‚˜ë¯¸" class="review-profile-img">
              <div class="review-nickname"><strong>í•˜ë‚˜ë¯¸</strong> <span class="activity-role">â­â­â­â­â­</span></div>
            </div>
            <p>ê¸°ë¶€ ê³µì—°ì´ë¼ ë” ê°ë™ì ì´ì—ˆì–´ìš”.</p>
          </div>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT4.png" alt="ìœ ë‚˜" class="review-profile-img">
              <div class="review-nickname"><strong>ìœ ë‚˜</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
            </div>
            <p>ë”°ëœ»í•œ ë¶„ìœ„ê¸°ê°€ ì •ë§ ì¢‹ì•˜ì–´ìš”.</p>
          </div>
        </div>
      </div>

      <div class="record-card">
        <div class="record-date">5ì›”<br><strong>24</strong></div>
        <div class="record-info">
          <div class="record-title">ê¸ˆ 20ì‹œ) ìœ íŠœë¸Œ ìƒì˜ í”„ë¦¬ë¡œ</div>
          <div class="record-status">ì˜ˆì •</div>
          <div class="record-meta">ğŸ•’ ì˜¤í›„ 8:00 &nbsp; ğŸ‘¥ 4/4ëª…</div>
        </div>
        <div class="record-image">
          <img src="/images/record6.jpg" alt="ìœ íŠœë¸Œ">
        </div>
        <div class="review-popup">
          <button class="popup-close">Ã—</button>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT1.png" alt="ê°€ë¬´" class="review-profile-img">
              <div class="review-nickname"><strong>ê°€ë¬´</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
            </div>
            <p>ì‹¤ì‹œê°„ ë°˜ì‘ì„ ë³´ë©° ì—°ì£¼í•˜ëŠ” ê²Œ ìƒˆë¡œì› ì–´ìš”.</p>
          </div>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT3.png" alt="íƒ€ì¼€ì‹œ" class="review-profile-img">
              <div class="review-nickname"><strong>íƒ€ì¼€ì‹œ</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
            </div>
            <p>ë¹„ëŒ€ë©´ì¸ë°ë„ ì—´ê¸°ê°€ ê°€ë“í–ˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="column-right">
      <div class="record-card">
        <div class="record-date">5ì›”<br><strong>31</strong></div>
        <div class="record-info">
          <div class="record-title">ê¸ˆ 18ì‹œ) í† ìš” ì‚¬ì§„ íšŒì˜</div>
          <div class="record-status">ì˜ˆì •</div>
          <div class="record-meta">ğŸ•’ ì˜¤í›„ 6:00 &nbsp; ğŸ‘¥ 3/4ëª…</div>
        </div>
        <div class="record-image">
          <img src="/images/record7.jpg" alt="ì‚¬ì§„íšŒì˜">
        </div>
        <div class="review-popup">
          <button class="popup-close">Ã—</button>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT2.png" alt="í•˜ë‚˜ë¯¸" class="review-profile-img">
              <div class="review-nickname"><strong>í•˜ë‚˜ë¯¸</strong> <span class="activity-role">â­â­â­â­â­</span></div>
            </div>
            <p>ì‚¬ì§„ ì•„ì´ë””ì–´ íšŒì˜ê°€ ì •ë§ ì°½ì˜ì ì´ì—ˆì–´ìš”.</p>
          </div>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT1.png" alt="ê°€ë¬´" class="review-profile-img">
              <div class="review-nickname"><strong>ê°€ë¬´</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
            </div>
            <p>íŒ€ì›Œí¬ë¥¼ ë‹¤ì§ˆ ìˆ˜ ìˆëŠ” ì‹œê°„ì´ì—ˆì–´ìš”.</p>
          </div>
        </div>
      </div>

      <div class="record-card">
        <div class="record-date">6ì›”<br><strong>7</strong></div>
        <div class="record-info">
          <div class="record-title">ê¸ˆ 21ì‹œ) í™ëŒ€ ë‚¨ì•„ì§€ ë¬´ëŒ€</div>
          <div class="record-status">ì˜ˆì •</div>
          <div class="record-meta">ğŸ•’ ì˜¤í›„ 9:00 &nbsp; ğŸ‘¥ 4/4ëª…</div>
        </div>
        <div class="record-image">
          <img src="/images/record8.jpg" alt="í™ëŒ€ ë¬´ëŒ€">
        </div>
        <div class="review-popup">
          <button class="popup-close">Ã—</button>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT3.png" alt="íƒ€ì¼€ì‹œ" class="review-profile-img">
              <div class="review-nickname"><strong>íƒ€ì¼€ì‹œ</strong> <span class="activity-role">â­â­â­â­â˜†</span></div>
            </div>
            <p>ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ê³µì—°ì´ì—ˆì–´ìš”. ì‚¬ëŒë“¤ ë°˜ì‘ ìµœê³ !</p>
          </div>
          <div class="review-item">
            <div class="review-header">
              <img src="/images/ChatGPT4.png" alt="ìœ ë‚˜" class="review-profile-img">
              <div class="review-nickname"><strong>ìœ ë‚˜</strong> <span class="activity-role">â­â­â­â­â­</span></div>
            </div>
            <p>ì •ë§ ì‹ ë‚˜ê³  íŒŒì›Œí’€í•œ ë“œëŸ¼ í¼í¬ë¨¼ìŠ¤ë¥¼ ë³´ì—¬ì¤¬ìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <button class="gallery-arrow gallery-next">â–¶</button>
  </div>

  <div class="gallery-dots">
    <div class="gallery-dot active"></div>
    <div class="gallery-dot"></div>
  </div>
 
</section>

</div>
</div>
</div>

<script>
// âœ… íƒ­ ì „í™˜ ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.band-tab-btn').forEach(button => {
    button.addEventListener('click', () => {
      document.querySelectorAll('.band-tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.band-section').forEach(section => section.classList.remove('active'));
      button.classList.add('active');
      document.getElementById(button.getAttribute('data-target')).classList.add('active');
    });
  });
});
</script>

<script>
// âœ… í™œë™ì‚¬ì§„ ìŠ¬ë¼ì´ë“œ(í˜ì´ì§•) ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  const gallerySlides = document.querySelectorAll("#section-gallery .media-slide");
  const galleryDots = document.querySelectorAll("#section-gallery .gallery-dot");
  let galleryIndex = 0;

  function updateGallerySlide(newIndex) {
    gallerySlides[galleryIndex].classList.remove("active");
    galleryDots[galleryIndex]?.classList.remove("active");
    galleryIndex = newIndex;
    gallerySlides[galleryIndex].classList.add("active");
    galleryDots[galleryIndex]?.classList.add("active");
  }

  document.querySelector("#section-gallery .gallery-prev")?.addEventListener("click", () => {
    updateGallerySlide((galleryIndex - 1 + gallerySlides.length) % gallerySlides.length);
  });
  document.querySelector("#section-gallery .gallery-next")?.addEventListener("click", () => {
    updateGallerySlide((galleryIndex + 1) % gallerySlides.length);
  });
  galleryDots.forEach((dot, index) => {
    dot.addEventListener("click", () => updateGallerySlide(index));
  });
});
</script>

<script>
// âœ… í™œë™ê¸°ë¡ ìŠ¬ë¼ì´ë“œ(í˜ì´ì§•) ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  const recordSlides = document.querySelectorAll("#section-records .media-slide");
  const recordDots = document.querySelectorAll("#section-records .gallery-dot");
  let recordIndex = 0;

  function updateRecordSlide(newIndex) {
    recordSlides[recordIndex].classList.remove("active");
    recordDots[recordIndex]?.classList.remove("active");
    recordIndex = newIndex;
    recordSlides[recordIndex].classList.add("active");
    recordDots[recordIndex]?.classList.add("active");
  }

  document.querySelector("#section-records .gallery-prev")?.addEventListener("click", () => {
    updateRecordSlide((recordIndex - 1 + recordSlides.length) % recordSlides.length);
  });
  document.querySelector("#section-records .gallery-next")?.addEventListener("click", () => {
    updateRecordSlide((recordIndex + 1) % recordSlides.length);
  });
  recordDots.forEach((dot, index) => {
    dot.addEventListener("click", () => updateRecordSlide(index));
  });
});
</script>

<script>
// âœ… í™œë™ê¸°ë¡ ì¹´ë“œ í´ë¦­ â†’ í›„ê¸° íŒì—… ì—´ê¸°/ë‹«ê¸° ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.record-card').forEach(card => {
    card.addEventListener('click', () => {
      const popup = card.querySelector('.review-popup');
      if (popup) popup.style.display = 'block';
    });
  });

  document.querySelectorAll('.popup-close').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const popup = btn.closest('.review-popup') || btn.closest('.keyword-popup');
      if (popup) popup.style.display = 'none';
    });
  });
});
</script>

<script>
// âœ… í™œë™ì‚¬ì§„ í´ë¦­ â†’ í›„ê¸° íŒì—… ì—´ê¸° ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.activity-thumb').forEach(el => {
    el.addEventListener('click', () => {
      const popup = document.getElementById('activity-popup');
      popup.querySelector('.activity-popup-title').textContent = el.dataset.title;
      popup.querySelector('.activity-popup-desc').textContent = el.dataset.desc;
      popup.style.display = 'block';
    });
  });
});
</script>


<script>
// âœ… í”„ë¡œí•„(ì´ë¦„/í•¸ë“¤/í•œì¤„ì†Œê°œ) ì˜ì—­ ìˆ˜ì •ëª¨ë“œ
document.addEventListener("DOMContentLoaded", () => {
  const profileThumbnail = document.querySelector(".profile-thumbnail img");

  // íŒŒì¼ input
  const profileInput = document.createElement("input");
  profileInput.type = "file";
  profileInput.accept = "image/*";
  profileInput.style.display = "none";
  document.body.appendChild(profileInput);

  profileInput.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (event) => {
        profileThumbnail.src = event.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
});

// âœ… ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ í”„ë¡œí•„ ìˆ˜ì • ë²„íŠ¼ ìƒì„±
function initProfileEdit() {
  if (window.profileEditBtnCreated) return;
  window.profileEditBtnCreated = true;

  const profileContainer = document.querySelector(".profile-thumbnail");
  const profileBtn = document.createElement("button");
  profileBtn.id = "profile-file-btn";
  profileBtn.type = "button";
  profileBtn.textContent = "í”„ë¡œí•„ ë³€ê²½";
  profileBtn.className = "btn-primary";
  profileBtn.style.position = "absolute";
  profileBtn.style.bottom = "8px";
  profileBtn.style.left = "50%";
  profileBtn.style.transform = "translateX(-50%)";
  profileBtn.style.width = "90px";
  profileBtn.style.height = "26px";
  profileBtn.style.fontSize = "12px";
  profileBtn.style.backgroundColor = "rgba(0,0,0,0.7)";
  profileBtn.style.color = "#fff";
  profileBtn.style.border = "none";
  profileBtn.style.borderRadius = "6px";
  profileBtn.style.padding = "2px 4px";
  profileBtn.style.cursor = "pointer";
  profileBtn.style.zIndex = "10";

  const wrapper = document.createElement("div");
  wrapper.id = "profile-btn-wrapper";
  wrapper.style.position = "relative";
  wrapper.appendChild(profileBtn);

  if (profileContainer) {
    profileContainer.appendChild(wrapper);
  }

  profileBtn.addEventListener("click", () => {
    const input = document.querySelector("input[type='file'][accept^='image/']");
    if (input) input.click();
  });
}
</script>

<script>
// âœ… ë°´ë“œì†Œê°œ ì˜ì—­ ì…ë ¥í¼ ë³€í™˜
function initBandIntro() {
  window.editMode = true;

  const replacements = [
    { selector: ".band-name", name: "bandName" },
    { selector: ".band-handle", name: "bandHandle" },
    { selector: ".band-one-liner", name: "bandOneLiner" }
  ];
  replacements.forEach(({ selector, name }) => {
    const el = document.querySelector(selector);
    if (el && !el.querySelector("input")) {
      const val = el.textContent.trim();
      el.innerHTML = `<input type="text" name="${name}" value="${val}">`;
    }
  });

  const introList = document.querySelectorAll("#section-intro .intro-list li");
  introList.forEach(li => {
    const label = li.querySelector("strong")?.textContent.trim();
    const value = li.childNodes[1]?.textContent.trim();
    if (!label || !value) return;

    if (label.includes("ì¥ë¥´")) {
      li.innerHTML = `
        <strong>${label}</strong>
        <input type="text" name="genre" id="genre-input" value="${value}" readonly style="cursor: pointer;">
      `;
    } else {
      li.innerHTML = `<strong>${label}</strong> <input type="text" value="${value}">`;
    }
  });

  const genreInput = document.getElementById("genre-input");
  if (genreInput) {
    genreInput.addEventListener("click", () => {
      document.getElementById("genre-popup").style.display = "block";
    });
  }

  const desc = document.querySelector(".band-description");
  if (desc && !desc.querySelector("textarea")) {
    const val = desc.textContent.trim();
    desc.innerHTML = `<textarea name="bandDescription">${val}</textarea>`;
  }
}

// âœ… ì¥ë¥´ íƒœê·¸ í´ë¦­ ì´ë²¤íŠ¸ ìœ„ì„ (í•­ìƒ ì‘ë™)
document.addEventListener("click", (e) => {
  if (e.target.closest("#genre-popup .tag")) {
    const tag = e.target.closest(".tag");
    tag.classList.toggle("active");

    const activeTags = Array.from(document.querySelectorAll("#genre-popup .tag.active"))
      .map(t => t.textContent.trim());

    const genreInput = document.getElementById("genre-input");
    if (genreInput) {
      genreInput.value = activeTags.join(", ");
    }
  }
});
</script>

<script>
// âœ… í”„ë¡œí•„ ì‚¬ì§„ ìˆ˜ì •
document.addEventListener("DOMContentLoaded", () => {
  const profileThumbnail = document.querySelector(".profile-thumbnail img");

  const profileInput = document.createElement("input");
  profileInput.type = "file";
  profileInput.accept = "image/*";
  profileInput.style.display = "none";
  document.body.appendChild(profileInput);

  profileInput.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (event) => {
        profileThumbnail.src = event.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
});

// âœ… ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ í”„ë¡œí•„ ë³€ê²½ ë²„íŠ¼ ìƒì„±
function initProfileImage() {
  const profileContainer = document.querySelector(".profile-thumbnail");

  if (!document.getElementById("profile-file-btn")) {
    // ë²„íŠ¼ ìƒì„±
    const profileBtn = document.createElement("button");
    profileBtn.id = "profile-file-btn";
    profileBtn.type = "button";
    profileBtn.textContent = "í”„ë¡œí•„ ë³€ê²½";
    profileBtn.className = "btn-primary";

    if (profileContainer) {
      profileContainer.style.position = "relative";
      profileBtn.style.position = "absolute";
      profileBtn.style.bottom = "8px";
      profileBtn.style.left = "50%";
      profileBtn.style.transform = "translateX(-50%)";
      profileBtn.style.width = "90px";
      profileBtn.style.height = "26px";
      profileBtn.style.fontSize = "12px";
      profileBtn.style.backgroundColor = "rgba(0,0,0,0.7)";
      profileBtn.style.color = "#fff";
      profileBtn.style.border = "none";
      profileBtn.style.borderRadius = "6px";
      profileBtn.style.padding = "2px 4px";
      profileBtn.style.cursor = "pointer";
      profileBtn.style.zIndex = "10";

      profileContainer.appendChild(profileBtn);
    }

    // ë²„íŠ¼ í´ë¦­ ì‹œ íŒŒì¼ input íŠ¸ë¦¬ê±°
    profileBtn.addEventListener("click", () => {
      const input = document.querySelector("input[type='file'][accept^='image/']");
      if (input) input.click();
    });
  }
}
</script>

<script>
//âœ… ë©¤ë²„ì†Œê°œ íŒì—… ìˆ˜ì •ëª¨ë“œ
function initMemberPopupEdit() {
  // ëª¨ë“  ë©¤ë²„ ì¹´ë“œì— ëŒ€í•´ ë°˜ë³µ
  document.querySelectorAll("#section-members .member-card").forEach(card => {
    const popup = card.querySelector(".member-popup");

    // âœ… í”„ë¡œí•„(ì¹´ë“œ) í´ë¦­ â†’ íŒì—… ì—´ê¸°
    card.addEventListener("click", (e) => {
      e.stopPropagation(); // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€

      if (popup) {
        popup.style.display = "block"; // íŒì—… í‘œì‹œ

        // âœ… ìˆ˜ì •ëª¨ë“œê°€ ì•„ë‹ ë•ŒëŠ” í¸ì§‘ ë¶ˆê°€ ìƒíƒœ ìœ ì§€
        if (!window.editMode) {
          popup.removeAttribute("contenteditable"); // í¸ì§‘ ë¶ˆê°€
          popup.style.border = "";
          popup.style.padding = "";
          popup.style.borderRadius = "";
          popup.style.background = "";
        }
      }
    });

    // âœ… íŒì—… ë‚´ë¶€ í´ë¦­ â†’ ìˆ˜ì •ëª¨ë“œì¼ ë•Œë§Œ í¸ì§‘ ê°€ëŠ¥
    popup.addEventListener("click", (e) => {
      e.stopPropagation(); // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€

      // âœ… ìˆ˜ì •ëª¨ë“œì¼ ë•Œë§Œ contenteditable í™œì„±í™”
      if (window.editMode) {
        popup.setAttribute("contenteditable", "true");
        popup.style.border = "1px dashed #aaa";
        popup.style.padding = "8px";
        popup.style.borderRadius = "8px";
        popup.style.background = "#f9f9f9";
      }
    });
  });

  // âœ… í˜ì´ì§€ ì•„ë¬´ ê³³ì´ë‚˜ í´ë¦­í•˜ë©´ ëª¨ë“  íŒì—… ë‹«ê¸°
  document.addEventListener("click", () => {
    document.querySelectorAll("#section-members .member-popup").forEach(popup => {
      popup.style.display = "none";
    });
  });
}
</script>

<script>
// íƒ­ ì „í™˜ ê¸°ëŠ¥
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.band-tab-btn').forEach(button => {
    button.addEventListener('click', () => {
      document.querySelectorAll('.band-tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.band-section').forEach(section => section.classList.remove('active'));
      button.classList.add('active');
      document.getElementById(button.getAttribute('data-target')).classList.add('active');

      const targetId = button.getAttribute("data-target");
      if (editMode) {
        if (targetId === "section-intro") {
          // âœ… ë°´ë“œì†Œê°œ íƒ­ì´ë©´ ì…ë ¥í¼ ìœ ì§€
        } else {
          // âœ… ë‹¤ë¥¸ íƒ­ì´ë©´ ì›ë˜ í…ìŠ¤íŠ¸ ë³µêµ¬
          restoreProfileInfo();
        }
      }
    });
  });
});
</script>

<script>
// âœ… íƒ­ ì „í™˜ ì‹œ ë°´ë“œì†Œê°œ ì…ë ¥í¼ ìœ ì§€/ë³µêµ¬
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".band-tab-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const targetId = btn.getAttribute("data-target");

      if (window.editMode) {
        if (targetId === "section-intro") {
          // âœ… "ë°´ë“œ ì†Œê°œ" íƒ­ì´ë©´ ê¸°ì¡´ init í•¨ìˆ˜ í˜¸ì¶œë¡œ ìœ ì§€
          initBandIntro(); 
        } else {
          // âœ… ê·¸ ì™¸ íƒ­ì´ë©´ ì›ìƒë³µêµ¬
          restoreProfileInfo();
        }
      }
    });
  });
});
</script>

<script>
// âœ… í™œë™ì‚¬ì§„ ìˆ˜ì • ë²„íŠ¼ (ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ ìƒì„±)
function initGalleryEditButton() {
  const sectionGallery = document.getElementById("section-gallery");

  if (!sectionGallery) return;
  if (!window.editMode) return; // âœ… ìˆ˜ì •ëª¨ë“œì¼ ë•Œë§Œ ì‘ë™
  if (window.editGalleryBtnCreated) return; // ì´ë¯¸ ìƒì„±í–ˆìœ¼ë©´ ë˜ ë§Œë“¤ì§€ ì•ŠìŒ

  // âœ… 1. í™œë™ì‚¬ì§„ ìˆ˜ì • ë²„íŠ¼ ìƒì„±
  const editGalleryBtn = document.createElement("button");
  editGalleryBtn.id = "edit-gallery-btn";
  editGalleryBtn.type = "button";
  editGalleryBtn.textContent = "í™œë™ì‚¬ì§„ ìˆ˜ì •";
  editGalleryBtn.className = "btn-primary";

  // ğŸ”¥ í™œë™ ì¶”ê°€ ë²„íŠ¼ê³¼ ê°™ì€ ìŠ¤íƒ€ì¼ë¡œ ìˆ˜ì •
  editGalleryBtn.style.position = "absolute";
  editGalleryBtn.style.top = "-40px";
  editGalleryBtn.style.right = "20px";
  editGalleryBtn.style.zIndex = "10";
  editGalleryBtn.style.padding = "10px 20px";
  editGalleryBtn.style.background = "#000";
  editGalleryBtn.style.color = "#fff";
  editGalleryBtn.style.borderRadius = "8px";
  editGalleryBtn.style.fontSize = "16px";
  editGalleryBtn.style.border = "none";
  editGalleryBtn.style.cursor = "pointer";

  sectionGallery.style.position = "relative";
  sectionGallery.appendChild(editGalleryBtn);

  window.editGalleryBtnCreated = true;

  // âœ… 2. íŒì—… ìƒì„± (í™œë™ ì¶”ê°€ íŒì—…ê³¼ ë™ì¼í•œ ìŠ¤íƒ€ì¼)
  const galleryPopup = document.createElement("div");
  galleryPopup.id = "gallery-edit-popup";
  galleryPopup.style.cssText = `
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    border-radius: 12px;
    z-index: 1000;
    width: 400px;
    font-family: 'Noto Sans KR', sans-serif;
    color: #000;
    box-sizing: border-box;
  `;

  galleryPopup.innerHTML = `
    <h3 style="font-size:22px; font-weight:bold; text-align:center; margin-bottom:25px;">í™œë™ ì‚¬ì§„ ìˆ˜ì •</h3>
    <input type="file" id="gallery-thumb-upload" accept="image/*" style="width:100%; margin-bottom:20px;">
    <input type="text" id="gallery-title-input" placeholder="í™œë™ ì œëª©" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; background:#fff; color:#000; margin-bottom:10px;">
    <textarea id="gallery-desc-input" placeholder="í™œë™ ì„¤ëª…" style="width:100%; height:100px; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; background:#fff; color:#000; margin-bottom:10px; resize:vertical;"></textarea>

    <div id="gallery-button-wrapper" style="display:flex; justify-content:center; align-items:center; gap:10px; margin-top:5px;">
      <button id="save-gallery-btn" class="btn-primary" style="background:#000; color:#fff; padding:12px 24px; font-size:15px; border:none; border-radius:8px; cursor:pointer;">ì €ì¥</button>
      <button id="close-gallery-popup" class="btn-primary" style="background:#fff; color:#000; border:1px solid #000; padding:12px 24px; font-size:15px; border-radius:8px; cursor:pointer;">ë‹«ê¸°</button>
    </div>
  `;

  document.body.appendChild(galleryPopup);

  // âœ… 3. ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ì—´ê¸°
  editGalleryBtn.addEventListener("click", () => {
    galleryPopup.style.display = "block";
  });

  // âœ… 4. íŒì—… ë‹«ê¸° ë²„íŠ¼
  document.getElementById("close-gallery-popup").addEventListener("click", () => {
    galleryPopup.style.display = "none";
  });

  // âœ… 5. ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ ì ìš©
  document.getElementById("save-gallery-btn").addEventListener("click", () => {
    const newTitle = document.getElementById("gallery-title-input").value.trim();
    const newDesc = document.getElementById("gallery-desc-input").value.trim();
    const thumbFile = document.getElementById("gallery-thumb-upload").files[0];

    if (newTitle) {
      const popupTitle = document.querySelector(".activity-popup-title");
      if (popupTitle) popupTitle.textContent = newTitle;
    }

    if (newDesc) {
      const popupDesc = document.querySelector(".activity-popup-desc");
      if (popupDesc) popupDesc.textContent = newDesc;
    }

    if (thumbFile) {
      const reader = new FileReader();
      reader.onload = (event) => {
        const firstThumb = document.querySelector("#section-gallery .gallery-grid img");
        if (firstThumb) {
          firstThumb.src = event.target.result;
        }
      };
      reader.readAsDataURL(thumbFile);
    }

    galleryPopup.style.display = "none";
  });
}
</script>

<script>
// âœ… í™œë™ ì‚¬ì§„ ì¶”ê°€ (ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ ìƒì„±)
function initGalleryAddButton() {
  const sectionGallery = document.getElementById("section-gallery");

  if (!sectionGallery) return;
  if (!window.editMode) return; // âœ… ìˆ˜ì •ëª¨ë“œì¼ ë•Œë§Œ ì‘ë™
  if (window.addAllBtnCreated) return; // ì´ë¯¸ ìƒì„±í–ˆìœ¼ë©´ ë˜ ë§Œë“¤ì§€ ì•ŠìŒ

  // "í™œë™ ì¶”ê°€" ë²„íŠ¼ ìƒì„±
  const addAllBtn = document.createElement("button");
  addAllBtn.id = "add-all-btn";
  addAllBtn.type = "button";
  addAllBtn.textContent = "í™œë™ ì¶”ê°€";
  addAllBtn.className = "btn-primary";

  // ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ğŸ”¥ ìˆ˜ì •: ì„  ìœ„ì— ë– ìˆê³  ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì •ë ¬ë˜ê²Œ)
  addAllBtn.style.position = "absolute";
  addAllBtn.style.top = "-40px";
  addAllBtn.style.right = "140px";
  addAllBtn.style.zIndex = "10";
  addAllBtn.style.padding = "10px 20px";
  addAllBtn.style.background = "#000";
  addAllBtn.style.color = "#fff";
  addAllBtn.style.borderRadius = "8px";
  addAllBtn.style.fontSize = "16px";
  addAllBtn.style.border = "none";
  addAllBtn.style.cursor = "pointer";
  addAllBtn.style.marginRight = "20px";

  sectionGallery.style.position = "relative";
  sectionGallery.appendChild(addAllBtn);

  window.addAllBtnCreated = true;

  // âœ… "í™œë™ ì¶”ê°€" íŒì—… ìƒì„±
  const allPopup = document.createElement("div");
  allPopup.id = "all-popup";
  allPopup.style.cssText = `
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    border-radius: 12px;
    z-index: 1000;
    width: 400px;
    font-family: 'Noto Sans KR', sans-serif;
    color: #000;
    box-sizing: border-box;
  `;

  allPopup.innerHTML = `
    <h3 style="font-size:22px; font-weight:bold; text-align:center; margin-bottom:25px;">í™œë™ ì¶”ê°€</h3>
    <form id="all-photo-form" enctype="multipart/form-data">
      <input type="file" id="new-all-photo" name="photo" accept="image/*" style="width:100%; margin-bottom:20px;">
      <input type="text" id="all-photo-title" name="title" placeholder="í™œë™ ì œëª©" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; background:#fff; color:#000; margin-bottom:10px;">
      <textarea id="all-photo-desc" name="description" placeholder="í™œë™ ì„¤ëª…" style="width:100%; height:100px; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; background:#fff; color:#000; margin-bottom:10px; resize:vertical;"></textarea>

      <div id="button-wrapper" style="display:flex; justify-content:center; align-items:center; gap:10px; margin-top:5px;">
        <button type="submit" id="save-all-btn" class="btn-primary" style="background:#000; color:#fff; padding:12px 24px; font-size:15px; border:none; border-radius:8px; cursor:pointer;">ì €ì¥</button>
        <button type="button" id="close-all-popup" class="btn-primary" style="background:#fff; color:#000; border:1px solid #000; padding:12px 24px; font-size:15px; border-radius:8px; cursor:pointer;">ë‹«ê¸°</button>
      </div>
    </form>
  `;

  document.body.appendChild(allPopup);

  // âœ… "í™œë™ ì¶”ê°€" ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ì—´ê¸°
  addAllBtn.addEventListener("click", () => {
    allPopup.style.display = "block";
  });

  // âœ… ë‹«ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ë‹«ê¸°
  document.getElementById("close-all-popup").addEventListener("click", () => {
    allPopup.style.display = "none";
  });

  // âœ… ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ
  document.getElementById("save-all-btn").addEventListener("click", () => {
    const photoFile = document.getElementById("new-all-photo").files[0];
    const title = document.getElementById("all-photo-title").value.trim();
    const desc = document.getElementById("all-photo-desc").value.trim();

    if (!title || !desc) {
      alert("ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
      return;
    }

    alert("í™œë™ ì¶”ê°€ ì™„ë£Œ!");
    allPopup.style.display = "none";
  });
}
</script>
	
<script>
// âœ… í™œë™ ê¸°ë¡ ìˆ˜ì • (ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ ìƒì„±)
function initRecordEditButton() {
  const sectionRecords = document.getElementById("section-records");

  if (!sectionRecords) return;
  if (!window.editMode) return;

  if (!window.editRecordBtnCreated) {
    window.editRecordBtnCreated = true;
  } else {
    return;
  }

  sectionRecords.style.position = "relative";

  // âœ… "í™œë™ ê¸°ë¡ ìˆ˜ì •" ë²„íŠ¼ ìƒì„±
  const editRecordBtn = document.createElement("button");
  editRecordBtn.id = "edit-record-btn";
  editRecordBtn.type = "button";
  editRecordBtn.textContent = "í™œë™ ê¸°ë¡ ìˆ˜ì •";
  editRecordBtn.className = "btn-primary";

  editRecordBtn.style.position = "absolute";
  editRecordBtn.style.top = "-40px";
  editRecordBtn.style.right = "160px";
  editRecordBtn.style.zIndex = "10";
  editRecordBtn.style.padding = "10px 20px";
  editRecordBtn.style.background = "#000";
  editRecordBtn.style.color = "#fff";
  editRecordBtn.style.borderRadius = "8px";
  editRecordBtn.style.fontSize = "16px";
  editRecordBtn.style.border = "none";
  editRecordBtn.style.cursor = "pointer";

  sectionRecords.appendChild(editRecordBtn);

  // âœ… "í™œë™ ê¸°ë¡ ìˆ˜ì •" íŒì—… ìƒì„±
  const editRecordPopup = document.createElement("div");
  editRecordPopup.id = "edit-record-popup";
  editRecordPopup.style.cssText = `
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    border-radius: 12px;
    z-index: 1000;
    width: 400px;
    font-family: 'Noto Sans KR', sans-serif;
    color: #000;
    box-sizing: border-box;
  `;

  editRecordPopup.innerHTML = `
    <h3 style="font-size:22px; font-weight:bold; text-align:center; margin-bottom:25px;">í™œë™ ê¸°ë¡ ìˆ˜ì •</h3>
    <input type="text" id="edit-title" placeholder="ê³µì—° ì œëª©" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="date" id="edit-date" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="edit-time" placeholder="ì‹œê°„" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="edit-location" placeholder="ì¥ì†Œ" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="edit-capacity" placeholder="ì¸ì›ìˆ˜" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="file" id="edit-thumb-upload" style="width:100%; padding:12px; font-size:16px; border:1px solid #ccc; border-radius:8px; margin-bottom:20px;">
    <textarea id="edit-desc" placeholder="ê°„ë‹¨í•œ ì„¤ëª…" style="width:100%; height:100px; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; resize:vertical; margin-bottom:10px;"></textarea>
    <div style="display:flex; justify-content:center; align-items:center; gap:10px;">
      <button id="save-edit-btn" class="btn-primary" style="background:#000; color:#fff; padding:12px 24px; font-size:15px; border:none; border-radius:8px; cursor:pointer;">ì €ì¥</button>
      <button id="close-edit-popup" class="btn-primary" style="background:#fff; color:#000; border:1px solid #000; padding:12px 24px; font-size:15px; border-radius:8px; cursor:pointer;">ë‹«ê¸°</button>
    </div>
  `;

  document.body.appendChild(editRecordPopup);

  // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
  editRecordBtn.addEventListener("click", () => {
    editRecordPopup.style.display = "block";
  });

  document.getElementById("close-edit-popup").addEventListener("click", () => {
    editRecordPopup.style.display = "none";
  });

  document.getElementById("save-edit-btn").addEventListener("click", () => {
    alert("í™œë™ ê¸°ë¡ ìˆ˜ì • ì™„ë£Œ!");
    editRecordPopup.style.display = "none";
  });
}
</script>

<script>
// âœ… í™œë™ ê¸°ë¡ ì¶”ê°€ (ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ ìƒì„±)
function initRecordAddButton() {
  const sectionRecords = document.getElementById("section-records");

  if (!sectionRecords) return;
  if (!window.editMode) return;
  if (window.addRecordBtnCreated) return;
  window.addRecordBtnCreated = true;

  sectionRecords.style.position = "relative";

  // âœ… "í™œë™ ê¸°ë¡ ì¶”ê°€" ë²„íŠ¼ ìƒì„±
  const addRecordBtn = document.createElement("button");
  addRecordBtn.id = "add-record-btn";
  addRecordBtn.type = "button";
  addRecordBtn.textContent = "í™œë™ ê¸°ë¡ ì¶”ê°€";
  addRecordBtn.className = "btn-primary";

  addRecordBtn.style.position = "absolute";
  addRecordBtn.style.top = "-40px";
  addRecordBtn.style.right = "20px";
  addRecordBtn.style.zIndex = "10";
  addRecordBtn.style.padding = "10px 20px";
  addRecordBtn.style.background = "#000";
  addRecordBtn.style.color = "#fff";
  addRecordBtn.style.borderRadius = "8px";
  addRecordBtn.style.fontSize = "16px";
  addRecordBtn.style.border = "none";
  addRecordBtn.style.cursor = "pointer";

  sectionRecords.appendChild(addRecordBtn);

  // âœ… "í™œë™ ê¸°ë¡ ì¶”ê°€" íŒì—… ìƒì„±
  const addRecordPopup = document.createElement("div");
  addRecordPopup.id = "add-record-popup";
  addRecordPopup.style.cssText = `
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    border-radius: 12px;
    z-index: 1000;
    width: 400px;
    font-family: 'Noto Sans KR', sans-serif;
    color: #000;
    box-sizing: border-box;
  `;

  addRecordPopup.innerHTML = `
    <h3 style="font-size:22px; font-weight:bold; text-align:center; margin-bottom:25px;">í™œë™ ê¸°ë¡ ì¶”ê°€</h3>
    <input type="text" id="record-title" placeholder="ê³µì—° ì œëª©" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="date" id="record-date" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="record-time" placeholder="ì‹œê°„" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="record-location" placeholder="ì¥ì†Œ" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="text" id="record-capacity" placeholder="ì¸ì›ìˆ˜" style="width:100%; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;">
    <input type="file" id="record-thumb-upload" style="width:100%; padding:12px; font-size:16px; border:1px solid #ccc; border-radius:8px; margin-bottom:20px;">
    <textarea id="record-desc" placeholder="ê°„ë‹¨í•œ ì„¤ëª…" style="width:100%; height:100px; padding:20px; font-size:20px; border:1px solid #ccc; border-radius:8px; resize:vertical; margin-bottom:10px;"></textarea>
    <div style="display:flex; justify-content:center; align-items:center; gap:10px;">
      <button id="save-record-btn" class="btn-primary" style="background:#000; color:#fff; padding:12px 24px; font-size:15px; border:none; border-radius:8px; cursor:pointer;">ì €ì¥</button>
      <button id="close-record-popup" class="btn-primary" style="background:#fff; color:#000; border:1px solid #000; padding:12px 24px; font-size:15px; border-radius:8px; cursor:pointer;">ë‹«ê¸°</button>
    </div>
  `;

  document.body.appendChild(addRecordPopup);

  // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
  addRecordBtn.addEventListener("click", () => {
    addRecordPopup.style.display = "block";
  });

  document.getElementById("close-record-popup").addEventListener("click", () => {
    addRecordPopup.style.display = "none";
  });

  document.getElementById("save-record-btn").addEventListener("click", () => {
    alert("í™œë™ ê¸°ë¡ ì¶”ê°€ ì™„ë£Œ!");
    addRecordPopup.style.display = "none";
  });
}
</script>

<!-- âœ… ì„¸ ë²ˆì§¸: ìˆ˜ì •ëª¨ë“œ í˜ì´ì§• ê¸°ëŠ¥ (ë°´ë“œì†Œê°œ í˜ì´ì§•) -->
<script>
// âœ… ë°´ë“œì†Œê°œ í˜ì´ì§• ê¸°ëŠ¥ (ìˆ˜ì •ëª¨ë“œ ì§„ì… ì‹œ ì‹¤í–‰)
function initBandIntroPaging() {
  if (!window.editMode) return; // âœ… ìˆ˜ì •ëª¨ë“œì¼ ë•Œë§Œ ì‘ë™

  const introItems = document.querySelectorAll("#section-intro .intro-list li");
  if (introItems.length < 4) return; // liê°€ ìµœì†Œ 4ê°œ ìˆì–´ì•¼ ì •ìƒ

  const introPages = [
    [introItems[0], introItems[1]], // 1í˜ì´ì§€: ê²°ì„±ì¼ + ì¥ë¥´
    [introItems[2], introItems[3]]  // 2í˜ì´ì§€: í™œë™ì§€ì—­ + ë°´ë“œì†Œê°œ
  ];
  let introIndex = 0;

  function updateIntroPage(newIndex) {
    introPages[introIndex].forEach(el => el.style.display = "none");
    introIndex = newIndex;
    introPages[introIndex].forEach(el => el.style.display = "block");
  }

  // âœ… ì²˜ìŒì— ì „ë¶€ ìˆ¨ê¸°ê³  1í˜ì´ì§€ë§Œ ë³´ì—¬ì¤Œ
  introItems.forEach(el => el.style.display = "none");
  updateIntroPage(0);

  // âœ… í˜ì´ì§• ë²„íŠ¼ì´ ì—†ìœ¼ë©´ ìƒì„±
  if (!document.getElementById("intro-paging-controls")) {
    const pagingWrap = document.createElement("div");
    pagingWrap.id = "intro-paging-controls";
    pagingWrap.style.display = "flex";
    pagingWrap.style.justifyContent = "center";
    pagingWrap.style.gap = "20px";
    pagingWrap.style.marginTop = "20px";

    pagingWrap.innerHTML = `
      <button id="intro-prev-btn" class="btn-primary">â—€</button>
      <button id="intro-next-btn" class="btn-primary">â–¶</button>
    `;

    const target = document.querySelector("#section-intro .intro-list");
    if (target?.parentNode) {
      target.parentNode.insertBefore(pagingWrap, target.nextSibling);
    }

    document.getElementById("intro-prev-btn").addEventListener("click", () => {
      if (introIndex > 0) {
        updateIntroPage(introIndex - 1);
      }
    });

    document.getElementById("intro-next-btn").addEventListener("click", () => {
      if (introIndex < introPages.length - 1) {
        updateIntroPage(introIndex + 1);
      }
    });
  }
}
</script>

<script>
// âœ… ìˆ˜ì •ëª¨ë“œ í† ê¸€ ë²„íŠ¼ ê¸°ëŠ¥ ì´ˆê¸°í™”
function initEditToggle() {
  const editButton = document.getElementById("edit-toggle-btn");
  if (!editButton) return;

  window.editMode = false;

  editButton.addEventListener("click", () => {
    window.editMode = !window.editMode;
    editButton.textContent = window.editMode ? "ìˆ˜ì •ì™„ë£Œ" : "ìˆ˜ì •í•˜ê¸°";

    if (window.editMode) {
      // âœ… ìˆ˜ì •ëª¨ë“œ ì§„ì… ì²˜ë¦¬ í•¨ìˆ˜ë“¤ ì‹¤í–‰
      initProfileEdit();        // í”„ë¡œí•„ ì˜ì—­
      initBandIntro();          // ë°´ë“œì†Œê°œ ì˜ì—­ input ë³€í™˜
      initBandIntroPaging();    // ë°´ë“œì†Œê°œ í˜ì´ì§•
      initGalleryEditButton();  // í™œë™ì‚¬ì§„ ìˆ˜ì • ë²„íŠ¼
      initGalleryAddButton();   // í™œë™ì‚¬ì§„ ì¶”ê°€ ë²„íŠ¼
      initRecordEditButton();   // í™œë™ê¸°ë¡ ìˆ˜ì • ë²„íŠ¼
      initRecordAddButton();    // í™œë™ê¸°ë¡ ì¶”ê°€ ë²„íŠ¼
      initMemberPopupEdit();    // ë©¤ë²„ ì†Œê°œ íŒì—… ìˆ˜ì •
    } else {
      // âœ… ìˆ˜ì •ëª¨ë“œ í•´ì œ ì²˜ë¦¬
      restoreProfileInfo();     // ì´ë¦„, í•¸ë“¤, ì†Œê°œ ë³µêµ¬
      restoreBandIntro();       // ë°´ë“œì†Œê°œ ë³µêµ¬
      closeAllPopups();         // íŒì—…ì°½ ë‹«ê¸°
      removeEditButtons();      // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë²„íŠ¼ ì œê±°
    }
  });
}

// âœ… DOM ë¡œë”© ì‹œ ì´ˆê¸°í™” í•¨ìˆ˜ ì‹¤í–‰
document.addEventListener("DOMContentLoaded", () => {
  initEditToggle();
});
</script>

<script>
// âœ… í”„ë¡œí•„ ì˜ì—­ ì›ìƒë³µêµ¬ (ì´ë¦„/í•¸ë“¤/í•œì¤„ì†Œê°œ)
function restoreProfileInfo() {
  const fields = [
    { selector: ".band-name", defaultText: "Tomo Groove" },
    { selector: ".band-handle", defaultText: "@tomogroove" },
    { selector: ".band-one-liner", defaultText: "ë„ì¿„ì™€ í™ëŒ€ë¥¼ ì˜¤ê°€ëŠ” ê°ì„± ì‹œí‹°íŒ ë°´ë“œì…ë‹ˆë‹¤ ğŸ·" }
  ];

  fields.forEach(({ selector, defaultText }) => {
    const container = document.querySelector(selector);
    if (!container) return;

    const input = container.querySelector("input");
    if (input) {
      const value = input.value.trim();
      container.textContent = value || defaultText;
    }
  });
}
</script>

<script>
// âœ… ë°´ë“œ ì†Œê°œ ì˜ì—­ ì›ìƒë³µêµ¬ (+ í˜ì´ì§• ì œê±° í¬í•¨)
function restoreBandIntro() {
  const introList = document.querySelectorAll("#section-intro .intro-list li");

  introList.forEach(li => {
    const label = li.querySelector("strong")?.textContent.trim();
    if (!label) return;

    const input = li.querySelector("input");
    const value = input ? input.value.trim() : "";

    if (label.includes("ê²°ì„±ì¼")) {
      li.innerHTML = `<strong>${label}</strong> ${value || "2022ë…„ 5ì›”"}`;
    } else if (label.includes("ì¥ë¥´")) {
      li.innerHTML = `<strong>${label}</strong> ${value || "ì‹œí‹°íŒ, ì¬ì¦ˆ, ì¸ë””"}`;
    } else if (label.includes("í™œë™ì§€ì—­")) {
      li.innerHTML = `<strong>${label}</strong> ${value || "ì„œìš¸ í™ëŒ€, ë„ì¿„ ì‹œë¶€ì•¼"}`;
    } else if (label.includes("ë°´ë“œ ì†Œê°œ")) {
      const textarea = li.querySelector("textarea");
      const text = textarea ? textarea.value.trim() : "";
      li.innerHTML = `<strong>${label}</strong><p class="band-description">${text || "Tomo GrooveëŠ” ë„ì¿„ì™€ í™ëŒ€ ì¤‘ì‹¬ìœ¼ë¡œ í™œë™í•˜ëŠ” ë°´ë“œì…ë‹ˆë‹¤."}</p>`;
    }

    // âœ… ê° í•­ëª© display:block ìœ¼ë¡œ ëª¨ë‘ í‘œì‹œ
    li.style.display = "list-item";
  });

  // âœ… í˜ì´ì§• ì»¨íŠ¸ë¡¤ ì œê±°
  const paging = document.getElementById("intro-paging-controls");
  if (paging) paging.remove();
}
</script>

</div>
</body>
</html>
